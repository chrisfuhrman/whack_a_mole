<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>

    <!-- Bootstrap -->
    <!-- <link rel="icon" href="/favicon.ico"> -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/mole.css">

    <!-- <link rel="stylesheet" type="text/css" href="css/site.css">  -->

    <link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>

</head>

<body>

    <div>
        <span class="display-hide" id="score-board"></span>
        <span class="display-hide" id="timer"></span>
    </div>

<div class="container">
    
    <h1>Whack a cat</h1>

    <div id="button-container">
        <button type="button" class="btn btn-primary btn-lg" id="btn-start">Start Game</button>
        <button type="button" class="btn btn-primary btn-lg display-hide" id="btn-stop">Stop Game</button>
    </div>

    <div id="final-content">
        <p id="final-message"></p>
        <p id="final-score"></p>
    </div>

   <div id="button-container">
        <button type="button" class="display-hide btn btn-primary btn-lg" id="btn-again">Play again?</button>
    </div>

    <div id="game-container">
  <a href=""></a>
        <div class="grid custom-cursor" id="box-0">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class="grid" id="box-1">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-2">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-3">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-4">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-5">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-6">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-7">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-8">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-9">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-10">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-11">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-12">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-13">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-14">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-15">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-16">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-17">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-18">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-19">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-20">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
        <div class ="grid" id="box-21">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-22">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-23">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-24">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-25">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-26">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>
       <div class ="grid" id="box-27">
            <img class="display-hide cat" src="img/small_cat_.png">
        </div>

        <div class="clear"></div>

    </div>
</div>






<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>


// - add custom cursor
// - jquery for keeping score & timer
// - background for scoreboard/ timer

(function() {


    var whackGame, catSelection, scoreCount, scoreBoard;
    var cat = $('#game-container').children();
    var btnAgain = $('#btn-again');
    var btnStart = $('#btn-start');
    var btnStop = $('#btn-stop');

    // Function to generate a random # btwn 0 - 34
    function randomNum() {
        ranNum = Math.floor(Math.random() * 29 );

        return ranNum;
    }

    // Function to stop the game (remove cats)
    function stopGame() {

        // stops cats from appearing
        clearInterval(whackGame);

        // After 1 sec, slide up the scoreboard and hide the stop btn
        setTimeout(function () {
            $('#score-board, #timer').slideUp();
            $(btnStop).hide();
        }, 1000);
        
        // After 1.5 secs, hide start btn, show play again button, and final content for user
        setTimeout(function () {
            $(btnAgain).show();
            $(btnStart).hide();
            // final content for user
            $('#final-message').text('You are awesome!');
            $('#final-score').text('You scored ' + scoreCount + ' points');
        }, 1500);

    }

    // Function to run the whack a cat game
    function runGame() {

        var interval = 1000;
        var timeStart = 5;
        var endTime = 0;
        scoreCount = 0;

        // set the 
        whackGame = setInterval(function () {
            var timer = $('#timer');
            var scoreBoard = $('#score-board');

            if (timeStart <= endTime ) {

                timer.text('Timer | ' + timeStart);
                stopGame();

            } else {
                $(scoreBoard).text('Score | ' + scoreCount);
                console.log(scoreBoard);
                $(timer).text('Timer | ' + timeStart);
                console.log(timer);
                timeStart--;
                ranNum = randomNum();
                // dispaly the relevant cat box based on the random num
                $(cat).each( function(index) {
                    if (ranNum == index) {
                        catSelection = cat[index];
                        $(catSelection).children()
                            .fadeIn(500)
                            .delay(500)
                            .fadeOut();
                    }

                });
            }


        }, interval);

        // functionality runs once you've whacked a cat
        $('.cat').on('click', function() {
            $(this).hide();

            scoreCount++;
            $(scoreBoard).text('Score | ' + scoreCount);
            // return scoreCount;
        });

    }

  
    
    // Start the game by clicking this btn
    $(btnStart).on('click', function() {
        $(this).hide()
            .siblings().show();

        $('#score-board, #timer').slideDown();

        runGame();
    });


    var stopBtn = $(btnStop);
    // Stop the game by clicking this btn
    $(stopBtn).on('click', function() {
        stopGame();
    });

    // Restart the game by clicking this btn
    $(btnAgain).on('click', function() {
        $(this).hide();
        $('#final-content').hide();
        $(stopBtn).show();

        $('#score-board, #timer').slideDown();

        runGame();
    });



    // $('img').hide().fadeIn();
    
    // $('img').on('click', function() {
    //     $(this).fadeOut();
    // });


})();



</script>


</body>
</html>

